{% extends "layout.html.twig" %}

{% block content %}
<h2>Scanner un article</h2>
<form action="index.php?controleur=article&methode=result" method="post" enctype="multipart/form-data">
    <div class="mb-3">
        <label>Photo de l'article</label>
        <input type="file" name="photo" class="form-control" id="photoInput">
    </div>
    <div class="mb-3">
        <img id="preview" style="max-width: 300px; display: none;" />
    </div>
    <button type="submit" class="btn btn-primary">Lancer la recherche</button>
</form>

<script>
document.getElementById('photoInput').onchange = evt => {
    const [file] = evt.target.files
    if (file) {
        document.getElementById('preview').src = URL.createObjectURL(file)
        document.getElementById('preview').style.display = 'block'
    }
}
</script>
{% endblock %}